# H2 Database 설정
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# H2 Console 설정
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# JPA 설정
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.use_sql_comments=true
spring.jpa.open-in-view=false

# 데이터 초기화 설정 (dev 모드에서 더미 데이터 로드)
spring.sql.init.mode=always
spring.sql.init.data-locations=classpath:data-dev.sql
spring.jpa.defer-datasource-initialization=true

spring.output.ansi.enabled=always

# JWT 설정 (환경변수 없으면 기본값 사용, Docker에서 환경변수로 오버라이드 가능)
jwt.secret=${JWT_SECRET:qtrack-secret-key-for-development-only-change-in-production-environment-2024}
jwt.expiration-days=${JWT_EXPIRATION_DAYS:5}

# CORS 설정 (환경변수 없으면 기본값 사용, Docker에서 환경변수로 오버라이드 가능)
# CORS_ALLOWED_ORIGINS는 쉼표로 구분된 여러 주소 (예: http://localhost:3000,http://localhost:5173)
# dev 모드에서는 hoppscotch.io와 localhost 관련 모든 주소 허용
cors.allowed-origins=${CORS_ALLOWED_ORIGINS:http://localhost:3000,http://localhost:3001,http://localhost:5173,http://127.0.0.1:3000,http://127.0.0.1:3001,http://127.0.0.1:5173,https://hoppscotch.io,http://localhost:8080}

# 로그 레벨 설정 (debug)
# org.hibernate.SQL: JPA/Hibernate가 실행하는 모든 SQL 쿼리를 콘솔에 출력하여 디버깅 용이
logging.level.org.hibernate.SQL=DEBUG
# org.hibernate.type.descriptor.sql.BasicBinder: SQL 쿼리의 파라미터 바인딩 값을 출력
# TRACE 레벨로 설정하여 ? 플레이스홀더에 실제 바인딩되는 값까지 확인 가능
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
# dev.dote.qtrack: 애플리케이션 코드에서 작성한 커스텀 로그를 DEBUG 레벨로 확인
logging.level.dev.dote.qtrack=DEBUG

